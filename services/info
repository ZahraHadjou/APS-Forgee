here we're going to keep all the server-side logic that can be shared by different endpoints